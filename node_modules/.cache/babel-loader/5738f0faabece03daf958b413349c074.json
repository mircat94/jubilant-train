{"ast":null,"code":"var _jsxFileName = \"/Users/mirandaebraheim/Documents/Other/demos/src/scene/DataTableScene.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport DataTable from \"../components/table/DataTable\";\nimport { mockData, tableColumns } from \"../data/MockData\";\nimport Box from \"@material-ui/core/Box\";\nimport _ from \"lodash\";\nimport IconInput from \"../components/inputs/IconInput\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { paginate } from \"../utils/paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DataTableScene = () => {\n  _s();\n\n  const [data, setData] = useState(mockData);\n  const [columns, setColumns] = useState(tableColumns);\n  const [sortColumn, setSortColumn] = useState({\n    path: \"first_name\",\n    order: \"asc\"\n  });\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [pageSize, setPageSize] = useState(10);\n  const [totalLength, setLength] = useState(mockData.length);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handleSortColumn = sortCol => {\n    setSortColumn({\n      path: sortCol.path,\n      order: sortCol.order\n    });\n  };\n\n  const handleSearch = e => {\n    const value = e.target.value;\n\n    if (value === \"\") {\n      setData(mockData);\n      setCurrentPage(1);\n    }\n\n    setSearchQuery(value);\n  };\n\n  const handleChangePage = (e, newPage) => {\n    setCurrentPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = e => {\n    setPageSize(e.target.value);\n    setCurrentPage(1);\n  };\n\n  useEffect(() => {\n    let filtered = [...data];\n    const search = new RegExp(searchQuery, \"igm\");\n\n    if (searchQuery !== \"\") {\n      filtered = filtered.filter(people => people.first_name.match(search) || people.last_name.match(search) || people.email.match(search) || people.city.match(search) || people.state.match(search));\n    }\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const people = paginate(sorted, currentPage, pageSize);\n    setData([...people]);\n    setLength(sorted.length); // setLength(sorted.length);\n  }, [mockData, searchQuery, sortColumn, pageSize, currentPage]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    margin: \"16px\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(IconInput, {\n        id: \"search-data-table\",\n        label: \"Search\",\n        value: searchQuery,\n        iconPosition: \"start\",\n        iconButtonLabel: \"search\",\n        icon: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this),\n        handleChange: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      data: data,\n      columns: columns,\n      pageSize: pageSize,\n      totalLength: totalLength,\n      currentPage: currentPage,\n      handleChangePage: handleChangePage,\n      handleChangeRowsPerPage: handleChangeRowsPerPage,\n      sortColumn: sortColumn,\n      handleSort: handleSortColumn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DataTableScene, \"UbtQ5Om61LnU7IK9RlBWWNapeiU=\");\n\n_c = DataTableScene;\nexport default DataTableScene;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataTableScene\");","map":{"version":3,"sources":["/Users/mirandaebraheim/Documents/Other/demos/src/scene/DataTableScene.jsx"],"names":["React","useState","useEffect","DataTable","mockData","tableColumns","Box","_","IconInput","SearchIcon","paginate","DataTableScene","data","setData","columns","setColumns","sortColumn","setSortColumn","path","order","searchQuery","setSearchQuery","pageSize","setPageSize","totalLength","setLength","length","currentPage","setCurrentPage","handleSortColumn","sortCol","handleSearch","e","value","target","handleChangePage","newPage","handleChangeRowsPerPage","filtered","search","RegExp","filter","people","first_name","match","last_name","email","city","state","sorted","orderBy","display"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport DataTable from \"../components/table/DataTable\";\nimport { mockData, tableColumns } from \"../data/MockData\";\nimport Box from \"@material-ui/core/Box\";\nimport _ from \"lodash\";\nimport IconInput from \"../components/inputs/IconInput\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { paginate } from \"../utils/paginate\";\nconst DataTableScene = () => {\n  const [data, setData] = useState(mockData);\n  const [columns, setColumns] = useState(tableColumns);\n  const [sortColumn, setSortColumn] = useState({\n    path: \"first_name\",\n    order: \"asc\",\n  });\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [pageSize, setPageSize] = useState(10);\n  const [totalLength, setLength] = useState(mockData.length);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handleSortColumn = (sortCol) => {\n    setSortColumn({ path: sortCol.path, order: sortCol.order });\n  };\n  const handleSearch = (e) => {\n    const value = e.target.value;\n    if (value === \"\") {\n      setData(mockData);\n      setCurrentPage(1);\n    }\n    setSearchQuery(value);\n  };\n  const handleChangePage = (e, newPage) => {\n    setCurrentPage(newPage);\n  };\n  const handleChangeRowsPerPage = (e) => {\n    setPageSize(e.target.value);\n    setCurrentPage(1);\n  };\n  useEffect(() => {\n    let filtered = [...data];\n    const search = new RegExp(searchQuery, \"igm\");\n    if (searchQuery !== \"\") {\n      filtered = filtered.filter(\n        (people) =>\n          people.first_name.match(search) ||\n          people.last_name.match(search) ||\n          people.email.match(search) ||\n          people.city.match(search) ||\n          people.state.match(search)\n      );\n    }\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const people = paginate(sorted, currentPage, pageSize);\n    setData([...people]);\n    setLength(sorted.length);\n    // setLength(sorted.length);\n  }, [mockData, searchQuery, sortColumn, pageSize, currentPage]);\n\n  return (\n    <Box margin=\"16px\">\n      <div style={{ display: \"flex\" }}>\n        <IconInput\n          id={\"search-data-table\"}\n          label={\"Search\"}\n          value={searchQuery}\n          iconPosition={\"start\"}\n          iconButtonLabel={\"search\"}\n          icon={<SearchIcon />}\n          handleChange={handleSearch}\n        />\n      </div>\n\n      <DataTable\n        data={data}\n        columns={columns}\n        pageSize={pageSize}\n        totalLength={totalLength}\n        currentPage={currentPage}\n        handleChangePage={handleChangePage}\n        handleChangeRowsPerPage={handleChangeRowsPerPage}\n        sortColumn={sortColumn}\n        handleSort={handleSortColumn}\n      />\n    </Box>\n  );\n};\n\nexport default DataTableScene;\n"]},"metadata":{},"sourceType":"module"}